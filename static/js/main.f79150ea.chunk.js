(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,n,t){e.exports=t(46)},46:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(17),u=t.n(o),c=t(12),i=t(10),l=t(2),p=t(7),s="FETCH_START";function d(e){return{type:"FETCH_START",payload:e}}function g(e){return"localhost"===window.location.hostname?"http://localhost:3000".concat(e):"https://eloquent-server.herokuapp.com".concat(e)}var m="FETCH_GROUPS",f=g("/groups");var h=t(27);function E(){var e=Object(h.a)(["\n\tborder: 1px solid ",";\n"]);return E=function(){return e},e}var b=t(28).a.li(E(),"#fa7722");function v(e){return r.createElement(b,null,r.createElement(c.b,{to:"/group/".concat(e.id)},e.name))}var O=Object(p.b)(function(e,n){return Object(l.a)({},n,{groups:e.groups})},function(e,n){return Object(l.a)({},n,{getGroups:function(){return e(function(e){e(d(f)),fetch(f).then(function(e){return e.json()}).then(function(n){e({type:"FETCH_GROUPS",payload:{url:f,groups:n}})})})}})})(function(e){return Object(r.useEffect)(function(){return e.getGroups()},[]),r.createElement("ul",null,e.groups.map(function(e){return r.createElement(v,Object.assign({key:e.id},e))}))}),y="FETCH_GROUP";var j=Object(p.b)(function(e,n){return Object(l.a)({},n,{match:n.match,group:e.groups.find(function(e){return e.id===parseInt(n.match.params.groupId,10)})})},function(e,n){return Object(l.a)({},n,{getGroup:function(){return e(function(e){var n=g("/groups/".concat(e));return function(e){e(d(n)),fetch(n).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_GROUP",payload:{url:n,group:t}})})}}(n.match.params.groupId))}})})(function(e){var n=e.group,t=e.getGroup;return r.useEffect(function(){return t()},[]),n?r.createElement("div",null,r.createElement("h1",null,n.name),r.createElement("ul",null,n.games.map(function(e){return r.createElement("li",{key:e.id},e.players[0],0===e.winner&&"(w)"," ",e.score&&e.score[0]," -",e.score&&e.score[1]," ",e.players[1],1===e.winner&&"(w)",r.createElement(c.b,{to:"/group/".concat(n.id,"/games/").concat(e.id)},"Details"))})),r.createElement(c.b,{to:"/group/".concat(n.id,"/add")},"Add new game")):r.createElement("h1",null,"Group not found")});var w=Object(p.b)(function(e,n){var t=e.groups.find(function(e){return e.id===parseInt(n.match.params.groupId)}),r=t?t.games.find(function(e){return e.id===parseInt(n.match.params.gameId)}):void 0;return{match:n.match,group:t,game:r}})(function(e){var n=e.group,t=e.game;return n&&t?r.createElement("div",null,r.createElement("h1",null,n.name," - Game details"),r.createElement("li",{key:t.id},t.players[0],0===t.winner&&"(w)"," ",t.score&&t.score[0]," -",t.score&&t.score[1]," ",t.players[1],1===t.winner&&"(w)")):r.createElement("h1",null,"Game not found")}),I=t(14),S="SAVE_GAME";var R=Object(p.b)(function(e,n){return Object(l.a)({},n,{group:e.groups.find(function(e){return n.match&&e.id===parseInt(n.match.params.groupId,10)}),onSave:n.onSave})},function(e,n){return{onSave:function(t){return e(function(e,n,t){var r=g("/groups/".concat(n,"/add"));return function(a){a(d(r)),fetch(r,{method:"POST",body:JSON.stringify(Object(l.a)({},e,{id:3})),headers:{"Content-Type":"application/json"}}).then(function(){t.push("/group/".concat(n))}).catch(function(e){return alert(e)})}}(t,n.match&&parseInt(n.match.params.groupId)||0,n.history))}}})(function(e){var n=e.group,t=e.onSave,a=(e.history,r.useState("")),o=Object(I.a)(a,2),u=o[0],c=o[1],i=r.useState(""),l=Object(I.a)(i,2),p=l[0],s=l[1],d=r.useState(0),g=Object(I.a)(d,2),m=g[0],f=g[1],h=r.useState(0),E=Object(I.a)(h,2),b=E[0],v=E[1],O=r.useState(0),y=Object(I.a)(O,2),j=y[0],w=y[1];return n?r.createElement("div",null,r.createElement("h1",null,n.name," - Add a new game"),r.createElement("p",null,"Player 1"),r.createElement("input",{type:"text",value:u,onChange:function(e){return c(e.target.value)}}),r.createElement("input",{type:"radio",name:"winner",value:"0",checked:0===j,onChange:function(e){return"0"===e.target.value&&w(0)}}),r.createElement("p",null,"Player 2"),r.createElement("input",{type:"text",value:p,onChange:function(e){return s(e.target.value)}}),r.createElement("input",{type:"radio",name:"winner",value:"1",checked:1===j,onChange:function(e){return"1"===e.target.value&&w(1)}}),r.createElement("p",null,"Score"),r.createElement("input",{type:"number",value:m,onChange:function(e){return f(parseInt(e.target.value,10))}})," -",r.createElement("input",{type:"number",value:b,onChange:function(e){return v(parseInt(e.target.value,10))}}),r.createElement("button",{onClick:function(){t({players:[u,p],winner:j,score:[m,b]})}},"Save")):r.createElement("h1",null,"Group not found")});var C=Object(p.b)(function(e){return{isLoading:e.isLoading}})(function(e){return a.a.createElement(a.a.Fragment,null,e.isLoading&&a.a.createElement("div",null,"Loading..."),a.a.createElement(c.a,null,a.a.createElement(i.a,{path:"/",exact:!0,component:O}),a.a.createElement(i.a,{path:"/group/:groupId",exact:!0,component:j}),a.a.createElement(i.a,{path:"/group/:groupId/games/:gameId",exact:!0,component:w}),a.a.createElement(i.a,{path:"/group/:groupId/add",exact:!0,component:R})))}),G=t(13),x=t(16),T=t(32),L={groups:[],isLoading:!1,loadingResource:null};var k=Object(x.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case S:var t=e.groups.find(function(e){return e.id===n.payload.groupId});if(!t)throw new Error("Didn't find group in reducer");return Object(l.a)({},e,{groups:[].concat(Object(G.a)(e.groups.slice(0,e.groups.indexOf(t))),[Object(l.a)({},t,{games:[].concat(Object(G.a)(t.games),[Object(l.a)({},n.payload.game,{id:Date.now()})])})],Object(G.a)(e.groups.slice(e.groups.indexOf(t)+1)))});case m:return Object(l.a)({},e,{groups:n.payload.groups,isLoading:e.loadingResource!==n.payload.url&&e.isLoading,loadingResource:e.loadingResource===n.payload.url?null:e.loadingResource});case y:return Object(l.a)({},e,{groups:function(){var t=e.groups.find(function(e){return e.id===n.payload.group.id});return t?[].concat(Object(G.a)(e.groups.slice(0,e.groups.indexOf(t))),[n.payload.group],Object(G.a)(e.groups.slice(e.groups.indexOf(t)+1))):e.groups.concat(n.payload.group)}(),isLoading:e.loadingResource!==n.payload.url&&e.isLoading,loadingResource:e.loadingResource===n.payload.url?null:e.loadingResource});case s:return Object(l.a)({},e,{isLoading:!0,loadingResource:n.payload});default:return e}},Object(x.a)(T.a));u.a.render(a.a.createElement(p.a,{store:k},a.a.createElement(C,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.f79150ea.chunk.js.map